import { unifiedBackendOutputSchema } from '@aws-amplify/backend-output-schemas';
import { BackendOutputFetcherFactory } from './backend_output_fetcher_factory.js';
/**
 * Simplifies the retrieval of all backend output values
 */
export class DefaultBackendOutputClient {
    cloudFormationClient;
    amplifyClient;
    /**
     * Instantiates a BackendOutputClient
     */
    constructor(cloudFormationClient, amplifyClient) {
        this.cloudFormationClient = cloudFormationClient;
        this.amplifyClient = amplifyClient;
    }
    getOutput = async (backendIdentifier) => {
        const outputFetcher = new BackendOutputFetcherFactory(this.cloudFormationClient, this.amplifyClient).getStrategy(backendIdentifier);
        const output = await outputFetcher.fetchBackendOutput();
        return unifiedBackendOutputSchema.parse(output);
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFja2VuZF9vdXRwdXRfY2xpZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2JhY2tlbmRfb3V0cHV0X2NsaWVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsMEJBQTBCLEVBQUUsTUFBTSxxQ0FBcUMsQ0FBQztBQUdqRixPQUFPLEVBQUUsMkJBQTJCLEVBQUUsTUFBTSxxQ0FBcUMsQ0FBQztBQUlsRjs7R0FFRztBQUNILE1BQU0sT0FBTywwQkFBMEI7SUFLM0I7SUFDQTtJQUxWOztPQUVHO0lBQ0gsWUFDVSxvQkFBMEMsRUFDMUMsYUFBNEI7UUFENUIseUJBQW9CLEdBQXBCLG9CQUFvQixDQUFzQjtRQUMxQyxrQkFBYSxHQUFiLGFBQWEsQ0FBZTtJQUNuQyxDQUFDO0lBQ0osU0FBUyxHQUFHLEtBQUssRUFBRSxpQkFBNEMsRUFBRSxFQUFFO1FBQ2pFLE1BQU0sYUFBYSxHQUFHLElBQUksMkJBQTJCLENBQ25ELElBQUksQ0FBQyxvQkFBb0IsRUFDekIsSUFBSSxDQUFDLGFBQWEsQ0FDbkIsQ0FBQyxXQUFXLENBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUVqQyxNQUFNLE1BQU0sR0FBRyxNQUFNLGFBQWEsQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO1FBRXhELE9BQU8sMEJBQTBCLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ2xELENBQUMsQ0FBQztDQUNIIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdW5pZmllZEJhY2tlbmRPdXRwdXRTY2hlbWEgfSBmcm9tICdAYXdzLWFtcGxpZnkvYmFja2VuZC1vdXRwdXQtc2NoZW1hcyc7XG5pbXBvcnQgeyBBbXBsaWZ5Q2xpZW50IH0gZnJvbSAnQGF3cy1zZGsvY2xpZW50LWFtcGxpZnknO1xuaW1wb3J0IHsgQ2xvdWRGb3JtYXRpb25DbGllbnQgfSBmcm9tICdAYXdzLXNkay9jbGllbnQtY2xvdWRmb3JtYXRpb24nO1xuaW1wb3J0IHsgQmFja2VuZE91dHB1dEZldGNoZXJGYWN0b3J5IH0gZnJvbSAnLi9iYWNrZW5kX291dHB1dF9mZXRjaGVyX2ZhY3RvcnkuanMnO1xuaW1wb3J0IHsgRGVwbG95ZWRCYWNrZW5kSWRlbnRpZmllciB9IGZyb20gJy4vaW5kZXguanMnO1xuaW1wb3J0IHsgQmFja2VuZE91dHB1dENsaWVudCB9IGZyb20gJy4vYmFja2VuZF9vdXRwdXRfY2xpZW50X2ZhY3RvcnkuanMnO1xuXG4vKipcbiAqIFNpbXBsaWZpZXMgdGhlIHJldHJpZXZhbCBvZiBhbGwgYmFja2VuZCBvdXRwdXQgdmFsdWVzXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWZhdWx0QmFja2VuZE91dHB1dENsaWVudCBpbXBsZW1lbnRzIEJhY2tlbmRPdXRwdXRDbGllbnQge1xuICAvKipcbiAgICogSW5zdGFudGlhdGVzIGEgQmFja2VuZE91dHB1dENsaWVudFxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBjbG91ZEZvcm1hdGlvbkNsaWVudDogQ2xvdWRGb3JtYXRpb25DbGllbnQsXG4gICAgcHJpdmF0ZSBhbXBsaWZ5Q2xpZW50OiBBbXBsaWZ5Q2xpZW50XG4gICkge31cbiAgZ2V0T3V0cHV0ID0gYXN5bmMgKGJhY2tlbmRJZGVudGlmaWVyOiBEZXBsb3llZEJhY2tlbmRJZGVudGlmaWVyKSA9PiB7XG4gICAgY29uc3Qgb3V0cHV0RmV0Y2hlciA9IG5ldyBCYWNrZW5kT3V0cHV0RmV0Y2hlckZhY3RvcnkoXG4gICAgICB0aGlzLmNsb3VkRm9ybWF0aW9uQ2xpZW50LFxuICAgICAgdGhpcy5hbXBsaWZ5Q2xpZW50XG4gICAgKS5nZXRTdHJhdGVneShiYWNrZW5kSWRlbnRpZmllcik7XG5cbiAgICBjb25zdCBvdXRwdXQgPSBhd2FpdCBvdXRwdXRGZXRjaGVyLmZldGNoQmFja2VuZE91dHB1dCgpO1xuXG4gICAgcmV0dXJuIHVuaWZpZWRCYWNrZW5kT3V0cHV0U2NoZW1hLnBhcnNlKG91dHB1dCk7XG4gIH07XG59XG4iXX0=