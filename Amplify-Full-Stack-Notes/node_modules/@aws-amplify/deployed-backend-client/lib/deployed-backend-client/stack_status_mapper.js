import { StackStatus } from '@aws-sdk/client-cloudformation';
import { BackendDeploymentStatus } from '../deployed_backend_client_factory.js';
/**
 * Maps CFN stack statuses to BackendMetadata status
 */
export class StackStatusMapper {
    /**
     * Converts CFN stack status to backend metadata status
     */
    translateStackStatus = (status) => {
        switch (status) {
            case StackStatus.CREATE_COMPLETE:
            case StackStatus.IMPORT_COMPLETE:
            case StackStatus.UPDATE_COMPLETE:
                return BackendDeploymentStatus.DEPLOYED;
            case StackStatus.CREATE_FAILED:
            case StackStatus.DELETE_FAILED:
            case StackStatus.IMPORT_ROLLBACK_COMPLETE:
            case StackStatus.IMPORT_ROLLBACK_FAILED:
            case StackStatus.ROLLBACK_COMPLETE:
            case StackStatus.ROLLBACK_FAILED:
            case StackStatus.UPDATE_ROLLBACK_COMPLETE:
            case StackStatus.UPDATE_ROLLBACK_FAILED:
            case StackStatus.UPDATE_FAILED:
                return BackendDeploymentStatus.FAILED;
            case StackStatus.CREATE_IN_PROGRESS:
            case StackStatus.IMPORT_IN_PROGRESS:
            case StackStatus.IMPORT_ROLLBACK_IN_PROGRESS:
            case StackStatus.REVIEW_IN_PROGRESS:
            case StackStatus.ROLLBACK_IN_PROGRESS:
            case StackStatus.UPDATE_COMPLETE_CLEANUP_IN_PROGRESS:
            case StackStatus.UPDATE_IN_PROGRESS:
            case StackStatus.UPDATE_ROLLBACK_COMPLETE_CLEANUP_IN_PROGRESS:
            case StackStatus.UPDATE_ROLLBACK_IN_PROGRESS:
                return BackendDeploymentStatus.DEPLOYING;
            case StackStatus.DELETE_IN_PROGRESS:
                return BackendDeploymentStatus.DELETING;
            case StackStatus.DELETE_COMPLETE:
                return BackendDeploymentStatus.DELETED;
            default:
                return BackendDeploymentStatus.UNKNOWN;
        }
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RhY2tfc3RhdHVzX21hcHBlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kZXBsb3llZC1iYWNrZW5kLWNsaWVudC9zdGFja19zdGF0dXNfbWFwcGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxnQ0FBZ0MsQ0FBQztBQUM3RCxPQUFPLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSx1Q0FBdUMsQ0FBQztBQUVoRjs7R0FFRztBQUNILE1BQU0sT0FBTyxpQkFBaUI7SUFDNUI7O09BRUc7SUFDSCxvQkFBb0IsR0FBRyxDQUNyQixNQUF3QyxFQUNmLEVBQUU7UUFDM0IsUUFBUSxNQUFNLEVBQUU7WUFDZCxLQUFLLFdBQVcsQ0FBQyxlQUFlLENBQUM7WUFDakMsS0FBSyxXQUFXLENBQUMsZUFBZSxDQUFDO1lBQ2pDLEtBQUssV0FBVyxDQUFDLGVBQWU7Z0JBQzlCLE9BQU8sdUJBQXVCLENBQUMsUUFBUSxDQUFDO1lBRTFDLEtBQUssV0FBVyxDQUFDLGFBQWEsQ0FBQztZQUMvQixLQUFLLFdBQVcsQ0FBQyxhQUFhLENBQUM7WUFDL0IsS0FBSyxXQUFXLENBQUMsd0JBQXdCLENBQUM7WUFDMUMsS0FBSyxXQUFXLENBQUMsc0JBQXNCLENBQUM7WUFDeEMsS0FBSyxXQUFXLENBQUMsaUJBQWlCLENBQUM7WUFDbkMsS0FBSyxXQUFXLENBQUMsZUFBZSxDQUFDO1lBQ2pDLEtBQUssV0FBVyxDQUFDLHdCQUF3QixDQUFDO1lBQzFDLEtBQUssV0FBVyxDQUFDLHNCQUFzQixDQUFDO1lBQ3hDLEtBQUssV0FBVyxDQUFDLGFBQWE7Z0JBQzVCLE9BQU8sdUJBQXVCLENBQUMsTUFBTSxDQUFDO1lBRXhDLEtBQUssV0FBVyxDQUFDLGtCQUFrQixDQUFDO1lBQ3BDLEtBQUssV0FBVyxDQUFDLGtCQUFrQixDQUFDO1lBQ3BDLEtBQUssV0FBVyxDQUFDLDJCQUEyQixDQUFDO1lBQzdDLEtBQUssV0FBVyxDQUFDLGtCQUFrQixDQUFDO1lBQ3BDLEtBQUssV0FBVyxDQUFDLG9CQUFvQixDQUFDO1lBQ3RDLEtBQUssV0FBVyxDQUFDLG1DQUFtQyxDQUFDO1lBQ3JELEtBQUssV0FBVyxDQUFDLGtCQUFrQixDQUFDO1lBQ3BDLEtBQUssV0FBVyxDQUFDLDRDQUE0QyxDQUFDO1lBQzlELEtBQUssV0FBVyxDQUFDLDJCQUEyQjtnQkFDMUMsT0FBTyx1QkFBdUIsQ0FBQyxTQUFTLENBQUM7WUFFM0MsS0FBSyxXQUFXLENBQUMsa0JBQWtCO2dCQUNqQyxPQUFPLHVCQUF1QixDQUFDLFFBQVEsQ0FBQztZQUUxQyxLQUFLLFdBQVcsQ0FBQyxlQUFlO2dCQUM5QixPQUFPLHVCQUF1QixDQUFDLE9BQU8sQ0FBQztZQUV6QztnQkFDRSxPQUFPLHVCQUF1QixDQUFDLE9BQU8sQ0FBQztTQUMxQztJQUNILENBQUMsQ0FBQztDQUNIIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU3RhY2tTdGF0dXMgfSBmcm9tICdAYXdzLXNkay9jbGllbnQtY2xvdWRmb3JtYXRpb24nO1xuaW1wb3J0IHsgQmFja2VuZERlcGxveW1lbnRTdGF0dXMgfSBmcm9tICcuLi9kZXBsb3llZF9iYWNrZW5kX2NsaWVudF9mYWN0b3J5LmpzJztcblxuLyoqXG4gKiBNYXBzIENGTiBzdGFjayBzdGF0dXNlcyB0byBCYWNrZW5kTWV0YWRhdGEgc3RhdHVzXG4gKi9cbmV4cG9ydCBjbGFzcyBTdGFja1N0YXR1c01hcHBlciB7XG4gIC8qKlxuICAgKiBDb252ZXJ0cyBDRk4gc3RhY2sgc3RhdHVzIHRvIGJhY2tlbmQgbWV0YWRhdGEgc3RhdHVzXG4gICAqL1xuICB0cmFuc2xhdGVTdGFja1N0YXR1cyA9IChcbiAgICBzdGF0dXM6IFN0YWNrU3RhdHVzIHwgc3RyaW5nIHwgdW5kZWZpbmVkXG4gICk6IEJhY2tlbmREZXBsb3ltZW50U3RhdHVzID0+IHtcbiAgICBzd2l0Y2ggKHN0YXR1cykge1xuICAgICAgY2FzZSBTdGFja1N0YXR1cy5DUkVBVEVfQ09NUExFVEU6XG4gICAgICBjYXNlIFN0YWNrU3RhdHVzLklNUE9SVF9DT01QTEVURTpcbiAgICAgIGNhc2UgU3RhY2tTdGF0dXMuVVBEQVRFX0NPTVBMRVRFOlxuICAgICAgICByZXR1cm4gQmFja2VuZERlcGxveW1lbnRTdGF0dXMuREVQTE9ZRUQ7XG5cbiAgICAgIGNhc2UgU3RhY2tTdGF0dXMuQ1JFQVRFX0ZBSUxFRDpcbiAgICAgIGNhc2UgU3RhY2tTdGF0dXMuREVMRVRFX0ZBSUxFRDpcbiAgICAgIGNhc2UgU3RhY2tTdGF0dXMuSU1QT1JUX1JPTExCQUNLX0NPTVBMRVRFOlxuICAgICAgY2FzZSBTdGFja1N0YXR1cy5JTVBPUlRfUk9MTEJBQ0tfRkFJTEVEOlxuICAgICAgY2FzZSBTdGFja1N0YXR1cy5ST0xMQkFDS19DT01QTEVURTpcbiAgICAgIGNhc2UgU3RhY2tTdGF0dXMuUk9MTEJBQ0tfRkFJTEVEOlxuICAgICAgY2FzZSBTdGFja1N0YXR1cy5VUERBVEVfUk9MTEJBQ0tfQ09NUExFVEU6XG4gICAgICBjYXNlIFN0YWNrU3RhdHVzLlVQREFURV9ST0xMQkFDS19GQUlMRUQ6XG4gICAgICBjYXNlIFN0YWNrU3RhdHVzLlVQREFURV9GQUlMRUQ6XG4gICAgICAgIHJldHVybiBCYWNrZW5kRGVwbG95bWVudFN0YXR1cy5GQUlMRUQ7XG5cbiAgICAgIGNhc2UgU3RhY2tTdGF0dXMuQ1JFQVRFX0lOX1BST0dSRVNTOlxuICAgICAgY2FzZSBTdGFja1N0YXR1cy5JTVBPUlRfSU5fUFJPR1JFU1M6XG4gICAgICBjYXNlIFN0YWNrU3RhdHVzLklNUE9SVF9ST0xMQkFDS19JTl9QUk9HUkVTUzpcbiAgICAgIGNhc2UgU3RhY2tTdGF0dXMuUkVWSUVXX0lOX1BST0dSRVNTOlxuICAgICAgY2FzZSBTdGFja1N0YXR1cy5ST0xMQkFDS19JTl9QUk9HUkVTUzpcbiAgICAgIGNhc2UgU3RhY2tTdGF0dXMuVVBEQVRFX0NPTVBMRVRFX0NMRUFOVVBfSU5fUFJPR1JFU1M6XG4gICAgICBjYXNlIFN0YWNrU3RhdHVzLlVQREFURV9JTl9QUk9HUkVTUzpcbiAgICAgIGNhc2UgU3RhY2tTdGF0dXMuVVBEQVRFX1JPTExCQUNLX0NPTVBMRVRFX0NMRUFOVVBfSU5fUFJPR1JFU1M6XG4gICAgICBjYXNlIFN0YWNrU3RhdHVzLlVQREFURV9ST0xMQkFDS19JTl9QUk9HUkVTUzpcbiAgICAgICAgcmV0dXJuIEJhY2tlbmREZXBsb3ltZW50U3RhdHVzLkRFUExPWUlORztcblxuICAgICAgY2FzZSBTdGFja1N0YXR1cy5ERUxFVEVfSU5fUFJPR1JFU1M6XG4gICAgICAgIHJldHVybiBCYWNrZW5kRGVwbG95bWVudFN0YXR1cy5ERUxFVElORztcblxuICAgICAgY2FzZSBTdGFja1N0YXR1cy5ERUxFVEVfQ09NUExFVEU6XG4gICAgICAgIHJldHVybiBCYWNrZW5kRGVwbG95bWVudFN0YXR1cy5ERUxFVEVEO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gQmFja2VuZERlcGxveW1lbnRTdGF0dXMuVU5LTk9XTjtcbiAgICB9XG4gIH07XG59XG4iXX0=