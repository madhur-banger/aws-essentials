import { SSMServiceException } from '@aws-sdk/client-ssm';
/**
 * Secret Error.
 */
export class SecretError extends Error {
    cause;
    httpStatusCode;
    /**
     * Creates a secret error instance.
     */
    constructor(message, options) {
        super(message);
        this.name = 'SecretError';
        this.cause = options?.cause;
        this.httpStatusCode = options?.httpStatusCode;
    }
    /**
     * Creates a secret error from an underlying cause.
     */
    static createInstance = (cause) => {
        if (cause instanceof SSMServiceException) {
            return SecretError.fromSSMException(cause);
        }
        return new SecretError(cause.message, { cause });
    };
    /**
     * Creates a secret error from an SSM exception.
     */
    static fromSSMException = (ssmException) => {
        // the SSM error message is wrong/misleading, like 'UnknownError'. We will stringify the
        // whole err object instead.
        return new SecretError(JSON.stringify(ssmException), {
            cause: ssmException,
            httpStatusCode: ssmException.$metadata.httpStatusCode,
        });
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VjcmV0X2Vycm9yLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL3NlY3JldF9lcnJvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUUxRDs7R0FFRztBQUNILE1BQU0sT0FBTyxXQUFZLFNBQVEsS0FBSztJQUM3QixLQUFLLENBQVM7SUFDZCxjQUFjLENBQVU7SUFFL0I7O09BRUc7SUFDSCxZQUNFLE9BQWUsRUFDZixPQUdDO1FBRUQsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ2YsSUFBSSxDQUFDLElBQUksR0FBRyxhQUFhLENBQUM7UUFDMUIsSUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLEVBQUUsS0FBSyxDQUFDO1FBQzVCLElBQUksQ0FBQyxjQUFjLEdBQUcsT0FBTyxFQUFFLGNBQWMsQ0FBQztJQUNoRCxDQUFDO0lBRUQ7O09BRUc7SUFDSCxNQUFNLENBQUMsY0FBYyxHQUFHLENBQUMsS0FBWSxFQUFlLEVBQUU7UUFDcEQsSUFBSSxLQUFLLFlBQVksbUJBQW1CLEVBQUU7WUFDeEMsT0FBTyxXQUFXLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDNUM7UUFDRCxPQUFPLElBQUksV0FBVyxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDO0lBQ25ELENBQUMsQ0FBQztJQUVGOztPQUVHO0lBQ0ssTUFBTSxDQUFDLGdCQUFnQixHQUFHLENBQ2hDLFlBQWlDLEVBQ3BCLEVBQUU7UUFDZix3RkFBd0Y7UUFDeEYsNEJBQTRCO1FBQzVCLE9BQU8sSUFBSSxXQUFXLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsRUFBRTtZQUNuRCxLQUFLLEVBQUUsWUFBWTtZQUNuQixjQUFjLEVBQUUsWUFBWSxDQUFDLFNBQVMsQ0FBQyxjQUFjO1NBQ3RELENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNTTVNlcnZpY2VFeGNlcHRpb24gfSBmcm9tICdAYXdzLXNkay9jbGllbnQtc3NtJztcblxuLyoqXG4gKiBTZWNyZXQgRXJyb3IuXG4gKi9cbmV4cG9ydCBjbGFzcyBTZWNyZXRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgcHVibGljIGNhdXNlPzogRXJyb3I7XG4gIHB1YmxpYyBodHRwU3RhdHVzQ29kZT86IG51bWJlcjtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHNlY3JldCBlcnJvciBpbnN0YW5jZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIG1lc3NhZ2U6IHN0cmluZyxcbiAgICBvcHRpb25zPzoge1xuICAgICAgY2F1c2U/OiBFcnJvcjtcbiAgICAgIGh0dHBTdGF0dXNDb2RlPzogbnVtYmVyO1xuICAgIH1cbiAgKSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy5uYW1lID0gJ1NlY3JldEVycm9yJztcbiAgICB0aGlzLmNhdXNlID0gb3B0aW9ucz8uY2F1c2U7XG4gICAgdGhpcy5odHRwU3RhdHVzQ29kZSA9IG9wdGlvbnM/Lmh0dHBTdGF0dXNDb2RlO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBzZWNyZXQgZXJyb3IgZnJvbSBhbiB1bmRlcmx5aW5nIGNhdXNlLlxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZUluc3RhbmNlID0gKGNhdXNlOiBFcnJvcik6IFNlY3JldEVycm9yID0+IHtcbiAgICBpZiAoY2F1c2UgaW5zdGFuY2VvZiBTU01TZXJ2aWNlRXhjZXB0aW9uKSB7XG4gICAgICByZXR1cm4gU2VjcmV0RXJyb3IuZnJvbVNTTUV4Y2VwdGlvbihjYXVzZSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgU2VjcmV0RXJyb3IoY2F1c2UubWVzc2FnZSwgeyBjYXVzZSB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHNlY3JldCBlcnJvciBmcm9tIGFuIFNTTSBleGNlcHRpb24uXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBmcm9tU1NNRXhjZXB0aW9uID0gKFxuICAgIHNzbUV4Y2VwdGlvbjogU1NNU2VydmljZUV4Y2VwdGlvblxuICApOiBTZWNyZXRFcnJvciA9PiB7XG4gICAgLy8gdGhlIFNTTSBlcnJvciBtZXNzYWdlIGlzIHdyb25nL21pc2xlYWRpbmcsIGxpa2UgJ1Vua25vd25FcnJvcicuIFdlIHdpbGwgc3RyaW5naWZ5IHRoZVxuICAgIC8vIHdob2xlIGVyciBvYmplY3QgaW5zdGVhZC5cbiAgICByZXR1cm4gbmV3IFNlY3JldEVycm9yKEpTT04uc3RyaW5naWZ5KHNzbUV4Y2VwdGlvbiksIHtcbiAgICAgIGNhdXNlOiBzc21FeGNlcHRpb24sXG4gICAgICBodHRwU3RhdHVzQ29kZTogc3NtRXhjZXB0aW9uLiRtZXRhZGF0YS5odHRwU3RhdHVzQ29kZSxcbiAgICB9KTtcbiAgfTtcbn1cbiJdfQ==