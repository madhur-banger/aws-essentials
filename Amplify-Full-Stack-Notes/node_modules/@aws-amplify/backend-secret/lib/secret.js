import { SSMSecretClient } from './ssm_secret.js';
import { SSM } from '@aws-sdk/client-ssm';
import { SSMSecretClientWithAmplifyErrorHandling } from './ssm_secret_with_amplify_error_handling.js';
/**
 * Creates an Amplify secret client. Used in the backend lambda for fetching secrets
 */
export const getSecretClient = (secretClientOptions) => {
    return new SSMSecretClient(new SSM({
        credentials: secretClientOptions?.credentials,
        region: secretClientOptions?.region,
    }));
};
/**
 * Creates an Amplify secret client with inbuilt amplify error handling
 * Used in the amplify CLI commands such as sandbox and pipeline-deploy
 */
export const getSecretClientWithAmplifyErrorHandling = (secretClientOptions) => {
    return new SSMSecretClientWithAmplifyErrorHandling(getSecretClient(secretClientOptions));
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VjcmV0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL3NlY3JldC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFFbEQsT0FBTyxFQUFFLEdBQUcsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBRTFDLE9BQU8sRUFBRSx1Q0FBdUMsRUFBRSxNQUFNLDZDQUE2QyxDQUFDO0FBc0V0Rzs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLGVBQWUsR0FBRyxDQUM3QixtQkFBeUMsRUFDM0IsRUFBRTtJQUNoQixPQUFPLElBQUksZUFBZSxDQUN4QixJQUFJLEdBQUcsQ0FBQztRQUNOLFdBQVcsRUFBRSxtQkFBbUIsRUFBRSxXQUFXO1FBQzdDLE1BQU0sRUFBRSxtQkFBbUIsRUFBRSxNQUFNO0tBQ3BDLENBQUMsQ0FDSCxDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUY7OztHQUdHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sdUNBQXVDLEdBQUcsQ0FDckQsbUJBQXlDLEVBQzNCLEVBQUU7SUFDaEIsT0FBTyxJQUFJLHVDQUF1QyxDQUNoRCxlQUFlLENBQUMsbUJBQW1CLENBQUMsQ0FDckMsQ0FBQztBQUNKLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNTTVNlY3JldENsaWVudCB9IGZyb20gJy4vc3NtX3NlY3JldC5qcyc7XG5pbXBvcnQgeyBBd3NDcmVkZW50aWFsSWRlbnRpdHlQcm92aWRlciB9IGZyb20gJ0Bhd3Mtc2RrL3R5cGVzJztcbmltcG9ydCB7IFNTTSB9IGZyb20gJ0Bhd3Mtc2RrL2NsaWVudC1zc20nO1xuaW1wb3J0IHsgQXBwSWQsIEJhY2tlbmRJZGVudGlmaWVyIH0gZnJvbSAnQGF3cy1hbXBsaWZ5L3BsdWdpbi10eXBlcyc7XG5pbXBvcnQgeyBTU01TZWNyZXRDbGllbnRXaXRoQW1wbGlmeUVycm9ySGFuZGxpbmcgfSBmcm9tICcuL3NzbV9zZWNyZXRfd2l0aF9hbXBsaWZ5X2Vycm9yX2hhbmRsaW5nLmpzJztcblxuLyoqXG4gKiBUaGUgdW5pcXVlIGlkZW50aWZpZXIgb2YgdGhlIHNlY3JldC5cbiAqL1xuZXhwb3J0IHR5cGUgU2VjcmV0SWRlbnRpZmllciA9IHtcbiAgbmFtZTogc3RyaW5nO1xuICB2ZXJzaW9uPzogbnVtYmVyO1xufTtcblxuLyoqXG4gKiBUaGUgc2VjcmV0IG9iamVjdC5cbiAqL1xuZXhwb3J0IHR5cGUgU2VjcmV0ID0gU2VjcmV0SWRlbnRpZmllciAmIHtcbiAgdmFsdWU6IHN0cmluZztcbiAgbGFzdFVwZGF0ZWQ/OiBEYXRlO1xufTtcblxuLyoqXG4gKiBUaGUgcmV0dXJuZWQgb2JqZWN0IHR5cGUgb2YgbGlzdFNlY3JldHMgQVBJLlxuICovXG5leHBvcnQgdHlwZSBTZWNyZXRMaXN0SXRlbSA9IFNlY3JldElkZW50aWZpZXIgJiB7XG4gIGxhc3RVcGRhdGVkPzogRGF0ZTtcbn07XG5cbi8qKlxuICogVGhlIGNsaWVudCB0byBtYW5hZ2UgYmFja2VuZCBzZWNyZXQuXG4gKi9cbmV4cG9ydCB0eXBlIFNlY3JldENsaWVudCA9IHtcbiAgLyoqXG4gICAqIEdldCBhIHNlY3JldCB2YWx1ZS5cbiAgICovXG4gIGdldFNlY3JldDogKFxuICAgIGJhY2tlbmRJZGVudGlmaWVyOiBCYWNrZW5kSWRlbnRpZmllciB8IEFwcElkLFxuICAgIHNlY3JldElkZW50aWZpZXI6IFNlY3JldElkZW50aWZpZXJcbiAgKSA9PiBQcm9taXNlPFNlY3JldD47XG5cbiAgLyoqXG4gICAqIExpc3Qgc2VjcmV0cy5cbiAgICovXG4gIGxpc3RTZWNyZXRzOiAoXG4gICAgYmFja2VuZElkZW50aWZpZXI6IEJhY2tlbmRJZGVudGlmaWVyIHwgQXBwSWRcbiAgKSA9PiBQcm9taXNlPFNlY3JldExpc3RJdGVtW10+O1xuXG4gIC8qKlxuICAgKiBTZXQgYSBzZWNyZXQuXG4gICAqL1xuICBzZXRTZWNyZXQ6IChcbiAgICBiYWNrZW5kSWRlbnRpZmllcjogQmFja2VuZElkZW50aWZpZXIgfCBBcHBJZCxcbiAgICBzZWNyZXROYW1lOiBzdHJpbmcsXG4gICAgc2VjcmV0VmFsdWU6IHN0cmluZ1xuICApID0+IFByb21pc2U8U2VjcmV0SWRlbnRpZmllcj47XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIHNlY3JldC5cbiAgICovXG4gIHJlbW92ZVNlY3JldDogKFxuICAgIGJhY2tlbmRJZGVudGlmaWVyOiBCYWNrZW5kSWRlbnRpZmllciB8IEFwcElkLFxuICAgIHNlY3JldE5hbWU6IHN0cmluZ1xuICApID0+IFByb21pc2U8dm9pZD47XG59O1xuXG4vKipcbiAqIFNlY3JldCBjbGllbnQgb3B0aW9ucy5cbiAqL1xuZXhwb3J0IHR5cGUgU2VjcmV0Q2xpZW50T3B0aW9ucyA9IHtcbiAgY3JlZGVudGlhbHM/OiBBd3NDcmVkZW50aWFsSWRlbnRpdHlQcm92aWRlcjtcbiAgcmVnaW9uPzogc3RyaW5nO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIEFtcGxpZnkgc2VjcmV0IGNsaWVudC4gVXNlZCBpbiB0aGUgYmFja2VuZCBsYW1iZGEgZm9yIGZldGNoaW5nIHNlY3JldHNcbiAqL1xuZXhwb3J0IGNvbnN0IGdldFNlY3JldENsaWVudCA9IChcbiAgc2VjcmV0Q2xpZW50T3B0aW9ucz86IFNlY3JldENsaWVudE9wdGlvbnNcbik6IFNlY3JldENsaWVudCA9PiB7XG4gIHJldHVybiBuZXcgU1NNU2VjcmV0Q2xpZW50KFxuICAgIG5ldyBTU00oe1xuICAgICAgY3JlZGVudGlhbHM6IHNlY3JldENsaWVudE9wdGlvbnM/LmNyZWRlbnRpYWxzLFxuICAgICAgcmVnaW9uOiBzZWNyZXRDbGllbnRPcHRpb25zPy5yZWdpb24sXG4gICAgfSlcbiAgKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBBbXBsaWZ5IHNlY3JldCBjbGllbnQgd2l0aCBpbmJ1aWx0IGFtcGxpZnkgZXJyb3IgaGFuZGxpbmdcbiAqIFVzZWQgaW4gdGhlIGFtcGxpZnkgQ0xJIGNvbW1hbmRzIHN1Y2ggYXMgc2FuZGJveCBhbmQgcGlwZWxpbmUtZGVwbG95XG4gKi9cbmV4cG9ydCBjb25zdCBnZXRTZWNyZXRDbGllbnRXaXRoQW1wbGlmeUVycm9ySGFuZGxpbmcgPSAoXG4gIHNlY3JldENsaWVudE9wdGlvbnM/OiBTZWNyZXRDbGllbnRPcHRpb25zXG4pOiBTZWNyZXRDbGllbnQgPT4ge1xuICByZXR1cm4gbmV3IFNTTVNlY3JldENsaWVudFdpdGhBbXBsaWZ5RXJyb3JIYW5kbGluZyhcbiAgICBnZXRTZWNyZXRDbGllbnQoc2VjcmV0Q2xpZW50T3B0aW9ucylcbiAgKTtcbn07XG4iXX0=