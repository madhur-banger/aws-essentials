import opn from 'open';
import { printer } from '@aws-amplify/cli-core';
/**
 * Helper class to open apps (URLs, files, executable). Cross-platform.
 */
export class Open {
    static open = async (target, options) => {
        let childProcess;
        try {
            childProcess = await opn(target, options);
            childProcess.on('error', (e) => this.handleOpenError(e, target));
        }
        catch (e) {
            this.handleOpenError(e, target);
            return;
        }
        return childProcess;
    };
    static handleOpenError = (err, target) => {
        printer.log(`Unable to open ${target}: ${err.message}`);
        if ('code' in err && err['code'] === 'ENOENT') {
            printer.log('Have you installed `xdg-utils` on your machine?');
        }
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3Blbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21tYW5kcy9vcGVuL29wZW4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxHQUFnQixNQUFNLE1BQU0sQ0FBQztBQUVwQyxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFFaEQ7O0dBRUc7QUFDSCxNQUFNLE9BQU8sSUFBSTtJQUNmLE1BQU0sQ0FBQyxJQUFJLEdBQUcsS0FBSyxFQUNqQixNQUFjLEVBQ2QsT0FBZ0IsRUFDYyxFQUFFO1FBQ2hDLElBQUksWUFBMEIsQ0FBQztRQUMvQixJQUFJO1lBQ0YsWUFBWSxHQUFHLE1BQU0sR0FBRyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztZQUMxQyxZQUFZLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQztTQUNsRTtRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ1YsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFVLEVBQUUsTUFBTSxDQUFDLENBQUM7WUFDekMsT0FBTztTQUNSO1FBQ0QsT0FBTyxZQUFZLENBQUM7SUFDdEIsQ0FBQyxDQUFDO0lBRUYsTUFBTSxDQUFDLGVBQWUsR0FBRyxDQUFDLEdBQVUsRUFBRSxNQUFjLEVBQUUsRUFBRTtRQUN0RCxPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQixNQUFNLEtBQUssR0FBRyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUM7UUFDeEQsSUFBSSxNQUFNLElBQUksR0FBRyxJQUFJLEdBQUcsQ0FBQyxNQUFNLENBQUMsS0FBSyxRQUFRLEVBQUU7WUFDN0MsT0FBTyxDQUFDLEdBQUcsQ0FBQyxpREFBaUQsQ0FBQyxDQUFDO1NBQ2hFO0lBQ0gsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG9wbiwgeyBPcHRpb25zIH0gZnJvbSAnb3Blbic7XG5pbXBvcnQgeyBDaGlsZFByb2Nlc3MgfSBmcm9tICdjaGlsZF9wcm9jZXNzJztcbmltcG9ydCB7IHByaW50ZXIgfSBmcm9tICdAYXdzLWFtcGxpZnkvY2xpLWNvcmUnO1xuXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBvcGVuIGFwcHMgKFVSTHMsIGZpbGVzLCBleGVjdXRhYmxlKS4gQ3Jvc3MtcGxhdGZvcm0uXG4gKi9cbmV4cG9ydCBjbGFzcyBPcGVuIHtcbiAgc3RhdGljIG9wZW4gPSBhc3luYyAoXG4gICAgdGFyZ2V0OiBzdHJpbmcsXG4gICAgb3B0aW9uczogT3B0aW9uc1xuICApOiBQcm9taXNlPENoaWxkUHJvY2VzcyB8IHZvaWQ+ID0+IHtcbiAgICBsZXQgY2hpbGRQcm9jZXNzOiBDaGlsZFByb2Nlc3M7XG4gICAgdHJ5IHtcbiAgICAgIGNoaWxkUHJvY2VzcyA9IGF3YWl0IG9wbih0YXJnZXQsIG9wdGlvbnMpO1xuICAgICAgY2hpbGRQcm9jZXNzLm9uKCdlcnJvcicsIChlKSA9PiB0aGlzLmhhbmRsZU9wZW5FcnJvcihlLCB0YXJnZXQpKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLmhhbmRsZU9wZW5FcnJvcihlIGFzIEVycm9yLCB0YXJnZXQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gY2hpbGRQcm9jZXNzO1xuICB9O1xuXG4gIHN0YXRpYyBoYW5kbGVPcGVuRXJyb3IgPSAoZXJyOiBFcnJvciwgdGFyZ2V0OiBzdHJpbmcpID0+IHtcbiAgICBwcmludGVyLmxvZyhgVW5hYmxlIHRvIG9wZW4gJHt0YXJnZXR9OiAke2Vyci5tZXNzYWdlfWApO1xuICAgIGlmICgnY29kZScgaW4gZXJyICYmIGVyclsnY29kZSddID09PSAnRU5PRU5UJykge1xuICAgICAgcHJpbnRlci5sb2coJ0hhdmUgeW91IGluc3RhbGxlZCBgeGRnLXV0aWxzYCBvbiB5b3VyIG1hY2hpbmU/Jyk7XG4gICAgfVxuICB9O1xufVxuIl19